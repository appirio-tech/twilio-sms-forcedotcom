<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <content>smsSend</content>
        <type>Visualforce</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>false</enableActivities>
    <enableFeeds>false</enableFeeds>
    <enableHistory>false</enableHistory>
    <enableReports>true</enableReports>
    <fields>
        <fullName>AccountSid__c</fullName>
        <externalId>false</externalId>
        <label>AccountSid</label>
        <required>false</required>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>Contact__c</fullName>
        <externalId>false</externalId>
        <label>Contact</label>
        <referenceTo>Contact</referenceTo>
        <relationshipLabel>SMS Message</relationshipLabel>
        <relationshipName>SMS_Message</relationshipName>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Date_Sent__c</fullName>
        <description>Date the SMS was successfully sent.</description>
        <externalId>false</externalId>
        <label>Date Sent</label>
        <required>false</required>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Debug__c</fullName>
        <description>Big field for dumping web service responses. Could be removed for production use.</description>
        <externalId>false</externalId>
        <label>Debug</label>
        <length>32000</length>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Direction__c</fullName>
        <externalId>false</externalId>
        <label>Direction</label>
        <length>255</length>
        <required>false</required>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>From__c</fullName>
        <externalId>false</externalId>
        <label>From</label>
        <required>false</required>
        <type>Phone</type>
    </fields>
    <fields>
        <fullName>Message__c</fullName>
        <externalId>false</externalId>
        <label>Message</label>
        <required>false</required>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>Notification__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>After clicking send this information will be sent to a SMS service provider but the message may still fail in delivery. Select a value to be notified on the status of this SMS message.</inlineHelpText>
        <label>Notification</label>
        <picklist>
            <picklistValues>
                <fullName>Failure</fullName>
                <default>true</default>
            </picklistValues>
            <picklistValues>
                <fullName>Success</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Both</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Price__c</fullName>
        <externalId>false</externalId>
        <label>Price (USD)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Sid__c</fullName>
        <externalId>false</externalId>
        <label>Sid</label>
        <length>255</length>
        <required>false</required>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Status__c</fullName>
        <externalId>false</externalId>
        <label>Status</label>
        <picklist>
            <picklistValues>
                <fullName>Queued</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Sent</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Failed</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Unread</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Read</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Replied</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>To__c</fullName>
        <externalId>false</externalId>
        <label>To</label>
        <required>false</required>
        <type>Phone</type>
    </fields>
    <label>SMS Message</label>
    <listViews>
        <fullName>All</fullName>
        <filterScope>Everything</filterScope>
        <label>All</label>
    </listViews>
    <nameField>
        <displayFormat>SMS-{0}</displayFormat>
        <label>SMS Message Name</label>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>SMS Message</pluralLabel>
    <recordTypes>
        <fullName>Inbound</fullName>
        <active>true</active>
        <description>Record type inbound SMS messages.</description>
        <label>Inbound</label>
        <picklistValues>
            <picklist>Notification__c</picklist>
            <values>
                <fullName>Both</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Failure</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Success</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Status__c</picklist>
            <values>
                <fullName>Read</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Replied</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Unread</fullName>
                <default>true</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>Outbound</fullName>
        <active>true</active>
        <description>Record type for outbound SMS messages.</description>
        <label>Outbound</label>
        <picklistValues>
            <picklist>Notification__c</picklist>
            <values>
                <fullName>Both</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Failure</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Success</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Status__c</picklist>
            <values>
                <fullName>Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Queued</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Sent</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <searchLayouts/>
    <sharingModel>ReadWrite</sharingModel>
    <webLinks>
        <fullName>Reply</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>url</linkType>
        <masterLabel>Reply</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <url>/apex/smsSend?CF00NE0000000aju5_lkid={!SMS_Message__c.ContactId__c}&amp;scontrolCaching=1&amp;retURL=%2F{!SMS_Message__c.ContactId__c}&amp;sfdc.override=1</url>
    </webLinks>
    <webLinks>
        <fullName>Resend</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Resend</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/20.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/20.0/apex.js&quot;)}

var msgId = &apos;{!SMS_Message__c.Id}&apos;;
var status = &apos;{!SMS_Message__c.Status__c}&apos;;

if(status != &apos;Failed&apos;){
	alert(&apos;You can only resend messages that failed delivery.&apos;);
}else{
	var agree = confirm(&quot;Are you sure you wish to resend the message?&quot;);
	if(agree){
		var result = sforce.apex.execute(&quot;SMSSendController&quot;,&quot;resendSMS&quot;,{msgId: msgId});
		alert(result);
		location.reload(true);
	}
}</url>
    </webLinks>
    <webLinks>
        <fullName>View_All</fullName>
        <availability>online</availability>
        <description>Open view all SMS page.</description>
        <displayType>massActionButton</displayType>
        <linkType>url</linkType>
        <masterLabel>View All</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>/apex/smsViewAll?id={!Contact.Id}</url>
    </webLinks>
</CustomObject>
